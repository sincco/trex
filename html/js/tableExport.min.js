!function(t){t.fn.extend({tableExport:function(e){function n(e,n,o,r){return M=t(A).find(e).first().find(n),M.each(function(){L="",a(this,o,O,r+M.length,function(t,e,n){L+=u(t,e,n)+E.csvSeparator}),L=t.trim(L).substring(0,L.length-1),L.length>0&&(T.length>0&&(T+="\n"),T+=L),O++}),M.length}function o(e){var n=[];return t(e).find("thead").first().find("th").each(function(e,o){void 0!==t(o).attr("data-field")&&(n[e]=t(o).attr("data-field"))}),n}function r(e,n){var o=!1;return E.ignoreColumn.length>0&&("string"==typeof E.ignoreColumn[0]?P.length>n&&"undefined"!=typeof P[n]&&-1!=t.inArray(P[n],E.ignoreColumn)&&(o=!0):"number"==typeof E.ignoreColumn[0]&&(-1!=t.inArray(n,E.ignoreColumn)||-1!=t.inArray(n-e.length,E.ignoreColumn))&&(o=!0)),o}function a(e,n,o,a,l){if(-1==t.inArray(o,E.ignoreRow)&&-1==t.inArray(o-a,E.ignoreRow)){var i=t(e).filter(function(){return"none"!=t(this).data("tableexport-display")&&(t(this).is(":visible")||"always"==t(this).data("tableexport-display")||"always"==t(this).closest("table").data("tableexport-display"))}).find(n),s=0,d=0;if(i.each(function(e){if(("always"==t(this).data("tableexport-display")||"none"!=t(this).css("display")&&"hidden"!=t(this).css("visibility")&&"none"!=t(this).data("tableexport-display"))&&0==r(i,e)&&"function"==typeof l){var n,a,c=0,f=0;if("undefined"!=typeof D[o]&&D[o].length>0)for(n=0;e>=n;n++)"undefined"!=typeof D[o][n]&&(l(null,o,n),delete D[o][n],e++);for(d=e,t(this).is("[colspan]")&&(c=parseInt(t(this).attr("colspan")),s+=c>0?c-1:0),t(this).is("[rowspan]")&&(f=parseInt(t(this).attr("rowspan"))),l(this,o,e),n=0;c-1>n;n++)l(null,o,e+n);if(f)for(a=1;f>a;a++)for("undefined"==typeof D[o+a]&&(D[o+a]=[]),D[o+a][e+s]="",n=1;c>n;n++)D[o+a][e+s-n]=""}}),"undefined"!=typeof D[o]&&D[o].length>0)for(c=0;c<=D[o].length;c++)"undefined"!=typeof D[o][c]&&(l(null,o,c),delete D[o][c])}}function l(t){if(E.consoleLog===!0&&console.log(t.output()),"string"===E.outputMode)return t.output();if("base64"===E.outputMode)return S(t.output());try{var e=t.output("blob");saveAs(e,E.fileName+".pdf")}catch(n){x(E.fileName+".pdf","data:application/pdf;base64,",t.output())}}function i(t,e,n){var o=0;if("undefined"!=typeof n&&(o=n.colspan),o>=0){for(var r=t.width,a=t.textPos.x,l=e.table.columns.indexOf(e.column),i=1;o>i;i++){var s=e.table.columns[l+i];r+=s.width}if(o>1&&("right"===t.styles.halign?a=t.textPos.x+r-t.width:"center"===t.styles.halign&&(a=t.textPos.x+(r-t.width)/2)),t.width=r,t.textPos.x=a,"undefined"!=typeof n&&n.rowspan>1&&(t.height=t.height*n.rowspan),"middle"===t.styles.valign||"bottom"===t.styles.valign){var d="string"==typeof t.text?t.text.split(/\r\n|\r|\n/g):t.text,c=d.length||1;c>2&&(t.textPos.y-=(2-j)/2*e.row.styles.fontSize*(c-2)/3)}return!0}return!1}function s(e,n,o){n.each(function(){var n=t(this).children();if(t(this).is("div")){var r=g(b(this,"background-color"),[255,255,255]),a=g(b(this,"border-top-color"),[0,0,0]),l=w(this,"border-top-width",E.jspdf.unit),i=this.getBoundingClientRect(),d=this.offsetLeft*o.dw,c=this.offsetTop*o.dh,f=i.width*o.dw,u=i.height*o.dh;o.doc.setDrawColor.apply(void 0,a),o.doc.setFillColor.apply(void 0,r),o.doc.setLineWidth(l),o.doc.rect(e.x+d,e.y+c,f,u,l?"FD":"F")}"undefined"!=typeof n&&n.length>0&&s(e,n,o)})}function d(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function f(t,e,n){return t.replace(new RegExp(d(e),"g"),n)}function u(t,e,n){var o="";if(null!=t){var r=p(t,e,n),a=null===r||""==r?"":r.toString();r instanceof Date?o=E.csvEnclosure+r.toLocaleString()+E.csvEnclosure:(o=f(a,E.csvEnclosure,E.csvEnclosure+E.csvEnclosure),(o.indexOf(E.csvSeparator)>=0||/[\r\n ]/g.test(o))&&(o=E.csvEnclosure+o+E.csvEnclosure))}return o}function h(t){return t=t||"0",t=f(t,E.numbers.html.decimalMark,"."),t=f(t,E.numbers.html.thousandsSeparator,""),"number"==typeof t||jQuery.isNumeric(t)!==!1?t:!1}function p(e,n,o){var r="";if(null!=e){var a,l=t(e);if(a=l[0].hasAttribute("data-tableexport-value")?l.data("tableexport-value"):l.html(),"function"==typeof E.onCellHtmlData&&(a=E.onCellHtmlData(l,n,o,a)),E.htmlContent===!0)r=t.trim(a);else{var i=a.replace(/\n/g,"\u2028").replace(/<br\s*[\/]?>/gi,"⁠"),s=t("<div/>").html(i).contents();if(i="",t.each(s.text().split("\u2028"),function(e,n){e>0&&(i+=" "),i+=t.trim(n)}),t.each(i.split("⁠"),function(e,n){e>0&&(r+="\n"),r+=t.trim(n).replace(/\u00AD/g,"")}),E.numbers.html.decimalMark!=E.numbers.output.decimalMark||E.numbers.html.thousandsSeparator!=E.numbers.output.thousandsSeparator){var d=h(r);if(d!==!1){var c=(""+d).split(".");1==c.length&&(c[1]="");var f=c[0].length>3?c[0].length%3:0;r=(0>d?"-":"")+(E.numbers.output.thousandsSeparator?(f?c[0].substr(0,f)+E.numbers.output.thousandsSeparator:"")+c[0].substr(f).replace(/(\d{3})(?=\d)/g,"$1"+E.numbers.output.thousandsSeparator):c[0])+(c[1].length?E.numbers.output.decimalMark+c[1]:"")}}}E.escape===!0&&(r=escape(r)),"function"==typeof E.onCellData&&(r=E.onCellData(l,n,o,r))}return r}function y(t,e,n){return e+"-"+n.toLowerCase()}function g(t,e){var n=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,o=n.exec(t),r=e;return o&&(r=[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]),r}function m(e){var n=b(e,"text-align"),o=b(e,"font-weight"),r=b(e,"font-style"),a="";"start"==n&&(n="rtl"==b(e,"direction")?"right":"left"),o>=700&&(a="bold"),"italic"==r&&(a+=r),""==a&&(a="normal");var l={style:{align:n,bcolor:g(b(e,"background-color"),[255,255,255]),color:g(b(e,"color"),[0,0,0]),fstyle:a},colspan:parseInt(t(e).attr("colspan"))||0,rowspan:parseInt(t(e).attr("rowspan"))||0};if(null!==e){var i=e.getBoundingClientRect();l.rect={width:i.width,height:i.height}}return l}function b(t,e){try{return window.getComputedStyle?(e=e.replace(/([a-z])([A-Z])/,y),window.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle?t.currentStyle[e]:t.style[e]}catch(n){}return""}function v(t,e,n){var o=100,r=document.createElement("div");r.style.overflow="hidden",r.style.visibility="hidden",t.appendChild(r),r.style.width=o+n;var a=o/r.offsetWidth;return t.removeChild(r),e*a}function w(t,e,n){var o=b(t,e),r=o.match(/\d+/);return null!==r?(r=r[0],v(t.parentElement,r,n)):0}function x(t,e,n){var o=window.navigator.userAgent;if(o.indexOf("MSIE ")>0||o.match(/Trident.*rv\:11\./)){var r=document.createElement("iframe");r&&(document.body.appendChild(r),r.setAttribute("style","display:none"),r.contentDocument.open("txt/html","replace"),r.contentDocument.write(n),r.contentDocument.close(),r.focus(),r.contentDocument.execCommand("SaveAs",!0,t),document.body.removeChild(r))}else{var a=document.createElement("a");a&&(a.style.display="none",a.download=t,e.toLowerCase().indexOf("base64,")>=0?a.href=e+S(n):a.href=e+encodeURIComponent(n),document.body.appendChild(a),document.createEvent?(null==N&&(N=document.createEvent("MouseEvents")),N.initEvent("click",!0,!1),a.dispatchEvent(N)):document.createEventObject?a.fireEvent("onclick"):"function"==typeof a.onclick&&a.onclick(),document.body.removeChild(a))}}function C(t){t=t.replace(/\x0d\x0a/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);128>o?e+=String.fromCharCode(o):o>127&&2048>o?(e+=String.fromCharCode(o>>6|192),e+=String.fromCharCode(63&o|128)):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128),e+=String.fromCharCode(63&o|128))}return e}function S(t){var e,n,o,r,a,l,i,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="",c=0;for(t=C(t);c<t.length;)e=t.charCodeAt(c++),n=t.charCodeAt(c++),o=t.charCodeAt(c++),r=e>>2,a=(3&e)<<4|n>>4,l=(15&n)<<2|o>>6,i=63&o,isNaN(n)?l=i=64:isNaN(o)&&(i=64),d=d+s.charAt(r)+s.charAt(a)+s.charAt(l)+s.charAt(i);return d}var E={consoleLog:!1,csvEnclosure:'"',csvSeparator:",",csvUseBOM:!0,displayTableName:!1,escape:!1,excelstyles:[],fileName:"tableExport",htmlContent:!1,ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"left",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"center"},alternateRowStyles:{fillColor:245},tableExport:{onAfterAutotable:null,onBeforeAutotable:null,onTable:null}}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onCellData:null,onCellHtmlData:null,outputMode:"file",tbodySelector:"tr",theadSelector:"tr",tableName:"myTableName",type:"csv",worksheetName:"xlsWorksheetName"},j=1.15,A=this,N=null,k=[],M=[],O=0,D=[],L="",P=[];if(t.extend(!0,E,e),P=o(A),"csv"==E.type||"txt"==E.type){var T="",R=0;if(O=0,R+=n("thead",E.theadSelector,"th,td",R),R+=n("tbody",E.tbodySelector,"td",R),n("tfoot",E.tbodySelector,"td",R),T+="\n",E.consoleLog===!0&&console.log(T),"string"===E.outputMode)return T;if("base64"===E.outputMode)return S(T);try{var B=new Blob([T],{type:"text/"+("csv"==E.type?"csv":"plain")+";charset=utf-8"});saveAs(B,E.fileName+"."+E.type,"csv"!=E.type||E.csvUseBOM===!1)}catch(I){x(E.fileName+"."+E.type,"data:text/"+("csv"==E.type?"csv":"plain")+";charset=utf-8,"+("csv"==E.type&&E.csvUseBOM?"\ufeff":""),T)}}else if("sql"==E.type){O=0;var H="INSERT INTO `"+E.tableName+"` (";if(k=t(A).find("thead").first().find(E.theadSelector),k.each(function(){a(this,"th,td",O,k.length,function(t,e,n){H+="'"+p(t,e,n)+"',"}),O++,H=t.trim(H),H=t.trim(H).substring(0,H.length-1)}),H+=") VALUES ",M=t(A).find("tbody").first().find(E.tbodySelector),M.each(function(){L="",a(this,"td",O,k.length+M.length,function(t,e,n){L+="'"+p(t,e,n)+"',"}),L.length>3&&(H+="("+L,H=t.trim(H).substring(0,H.length-1),H+="),"),O++}),H=t.trim(H).substring(0,H.length-1),H+=";",E.consoleLog===!0&&console.log(H),"string"===E.outputMode)return H;if("base64"===E.outputMode)return S(H);try{var B=new Blob([H],{type:"text/plain;charset=utf-8"});saveAs(B,E.fileName+".sql")}catch(I){x(E.fileName+".sql","data:application/sql;charset=utf-8,",H)}}else if("json"==E.type){var W=[];k=t(A).find("thead").first().find(E.theadSelector),k.each(function(){var t=[];a(this,"th,td",O,k.length,function(e,n,o){t.push(p(e,n,o))}),W.push(t)});var K=[];M=t(A).find("tbody").first().find(E.tbodySelector),M.each(function(){var e={},n=0;a(this,"td",O,k.length+M.length,function(t,o,r){W.length?e[W[W.length-1][n]]=p(t,o,r):e[n]=p(t,o,r),n++}),0==t.isEmptyObject(e)&&K.push(e),O++});var U="";if(U="head"==E.jsonScope?JSON.stringify(W):"data"==E.jsonScope?JSON.stringify(K):JSON.stringify({header:W,data:K}),E.consoleLog===!0&&console.log(U),"string"===E.outputMode)return U;if("base64"===E.outputMode)return S(U);try{var B=new Blob([U],{type:"application/json;charset=utf-8"});saveAs(B,E.fileName+".json")}catch(I){x(E.fileName+".json","data:application/json;charset=utf-8;base64,",U)}}else if("xml"===E.type){O=0;var z='<?xml version="1.0" encoding="utf-8"?>';z+="<tabledata><fields>",k=t(A).find("thead").first().find(E.theadSelector),k.each(function(){a(this,"th,td",O,M.length,function(t,e,n){z+="<field>"+p(t,e,n)+"</field>"}),O++}),z+="</fields><data>";var F=1;if(M=t(A).find("tbody").first().find(E.tbodySelector),M.each(function(){var t=1;L="",a(this,"td",O,k.length+M.length,function(e,n,o){L+="<column-"+t+">"+p(e,n,o)+"</column-"+t+">",t++}),L.length>0&&"<column-1></column-1>"!=L&&(z+='<row id="'+F+'">'+L+"</row>",F++),O++}),z+="</data></tabledata>",E.consoleLog===!0&&console.log(z),"string"===E.outputMode)return z;if("base64"===E.outputMode)return S(z);try{var B=new Blob([z],{type:"application/xml;charset=utf-8"});saveAs(B,E.fileName+".xml")}catch(I){x(E.fileName+".xml","data:application/xml;charset=utf-8;base64,",z)}}else if("excel"==E.type||"xls"==E.type||"word"==E.type||"doc"==E.type){var q="excel"==E.type||"xls"==E.type?"excel":"word",J="excel"==q?"xls":"doc",$="xls"==J?'xmlns:x="urn:schemas-microsoft-com:office:excel"':'xmlns:w="urn:schemas-microsoft-com:office:word"',Q=t(A).filter(function(){return"none"!=t(this).data("tableexport-display")&&(t(this).is(":visible")||"always"==t(this).data("tableexport-display"))}),V="";Q.each(function(){O=0,P=o(this),V+="<table><thead>",k=t(this).find("thead").first().find(E.theadSelector),k.each(function(){L="",a(this,"th,td",O,k.length,function(e,n,o){if(null!=e){var r="";L+="<th";for(var a in E.excelstyles)if(E.excelstyles.hasOwnProperty(a)){var l=t(e).css(E.excelstyles[a]);""!=l&&"0px none rgb(0, 0, 0)"!=l&&(""==r&&(r='style="'),r+=E.excelstyles[a]+":"+l+";")}""!=r&&(L+=" "+r+'"'),t(e).is("[colspan]")&&(L+=' colspan="'+t(e).attr("colspan")+'"'),t(e).is("[rowspan]")&&(L+=' rowspan="'+t(e).attr("rowspan")+'"'),L+=">"+p(e,n,o)+"</th>"}}),L.length>0&&(V+="<tr>"+L+"</tr>"),O++}),V+="</thead><tbody>",M=t(this).find("tbody").first().find(E.tbodySelector),M.each(function(){L="",a(this,"td",O,k.length+M.length,function(e,n,o){if(null!=e){var r="";L+="<td";for(var a in E.excelstyles)if(E.excelstyles.hasOwnProperty(a)){var l=t(e).css(E.excelstyles[a]);""!=l&&"0px none rgb(0, 0, 0)"!=l&&(""==r&&(r='style="'),r+=E.excelstyles[a]+":"+l+";")}""!=r&&(L+=" "+r+'"'),t(e).is("[colspan]")&&(L+=' colspan="'+t(e).attr("colspan")+'"'),t(e).is("[rowspan]")&&(L+=' rowspan="'+t(e).attr("rowspan")+'"'),L+=">"+p(e,n,o)+"</td>"}}),L.length>0&&(V+="<tr>"+L+"</tr>"),O++}),E.displayTableName&&(V+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+p(t("<p>"+E.tableName+"</p>"))+"</td></tr>"),V+="</tbody></table>",E.consoleLog===!0&&console.log(V)});var Y='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+$+' xmlns="http://www.w3.org/TR/REC-html40">';if(Y+='<meta http-equiv="content-type" content="application/vnd.ms-'+q+'; charset=UTF-8">',Y+="<head>","excel"===q&&(Y+="<!--[if gte mso 9]>",Y+="<xml>",Y+="<x:ExcelWorkbook>",Y+="<x:ExcelWorksheets>",Y+="<x:ExcelWorksheet>",Y+="<x:Name>",Y+=E.worksheetName,Y+="</x:Name>",Y+="<x:WorksheetOptions>",Y+="<x:DisplayGridlines/>",Y+="</x:WorksheetOptions>",Y+="</x:ExcelWorksheet>",Y+="</x:ExcelWorksheets>",Y+="</x:ExcelWorkbook>",Y+="</xml>",Y+="<![endif]-->"),Y+="</head>",Y+="<body>",Y+=V,Y+="</body>",Y+="</html>",E.consoleLog===!0&&console.log(Y),"string"===E.outputMode)return Y;if("base64"===E.outputMode)return S(Y);try{var B=new Blob([Y],{type:"application/vnd.ms-"+E.type});saveAs(B,E.fileName+"."+J)}catch(I){x(E.fileName+"."+J,"data:application/vnd.ms-"+q+";base64,",Y)}}else if("png"==E.type)html2canvas(t(A)[0],{allowTaint:!0,background:"#fff",onrendered:function(t){var e=t.toDataURL();e=e.substring(22);for(var n=atob(e),o=new ArrayBuffer(n.length),r=new Uint8Array(o),a=0;a<n.length;a++)r[a]=n.charCodeAt(a);if(E.consoleLog===!0&&console.log(n),"string"===E.outputMode)return n;if("base64"===E.outputMode)return S(e);try{var l=new Blob([o],{type:"image/png"});saveAs(l,E.fileName+".png")}catch(i){x(E.fileName+".png","data:image/png;base64,",e)}}});else if("pdf"==E.type)if(E.jspdf.autotable===!1){var G={dim:{w:w(t(A).first().get(0),"width","mm"),h:w(t(A).first().get(0),"height","mm")},pagesplit:!1},Z=new jsPDF(E.jspdf.orientation,E.jspdf.unit,E.jspdf.format);Z.addHTML(t(A).first(),E.jspdf.margins.left,E.jspdf.margins.top,G,function(){l(Z)})}else{var X=E.jspdf.autotable.tableExport;if("string"==typeof E.jspdf.format&&"bestfit"===E.jspdf.format.toLowerCase()){var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89]},tt="",et="",nt=0;t(A).filter(":visible").each(function(){if("none"!=t(this).css("display")){var e=w(t(this).get(0),"width","pt");if(e>nt){e>_.a0[0]&&(tt="a0",et="l");for(var n in _)_.hasOwnProperty(n)&&_[n][1]>e&&(tt=n,et="l",_[n][0]>e&&(et="p"));nt=e}}}),E.jspdf.format=""==tt?"a4":tt,E.jspdf.orientation=""==et?"w":et}X.doc=new jsPDF(E.jspdf.orientation,E.jspdf.unit,E.jspdf.format),t(A).filter(function(){return"none"!=t(this).data("tableexport-display")&&(t(this).is(":visible")||"always"==t(this).data("tableexport-display"))}).each(function(){var e,n=0;if(P=o(this),X.columns=[],X.rows=[],X.rowoptions={},"function"==typeof X.onTable&&X.onTable(t(this),E)===!1)return!0;E.jspdf.autotable.tableExport=null;var r=t.extend(!0,{},E.jspdf.autotable);E.jspdf.autotable.tableExport=X,r.margin={},t.extend(!0,r.margin,E.jspdf.margins),r.tableExport=X,"function"!=typeof r.beforePageContent&&(r.beforePageContent=function(t){if(1==t.pageCount){var e=t.table.rows.concat(t.table.headerRow);e.forEach(function(e){e.height>0&&(e.height+=(2-j)/2*e.styles.fontSize,t.table.height+=(2-j)/2*e.styles.fontSize)})}}),"function"!=typeof r.createdHeaderCell&&(r.createdHeaderCell=function(e,n){if(e.styles=t.extend({},n.row.styles),"undefined"!=typeof X.columns[n.column.dataKey]){var o=X.columns[n.column.dataKey];if("undefined"!=typeof o.rect){var a;e.contentWidth=o.rect.width,("undefined"==typeof X.heightRatio||0==X.heightRatio)&&(a=n.row.raw[n.column.dataKey].rowspan?n.row.raw[n.column.dataKey].rect.height/n.row.raw[n.column.dataKey].rowspan:n.row.raw[n.column.dataKey].rect.height,X.heightRatio=e.styles.rowHeight/a),a=n.row.raw[n.column.dataKey].rect.height*X.heightRatio,a>e.styles.rowHeight&&(e.styles.rowHeight=a)}"undefined"!=typeof o.style&&o.style.hidden!==!0&&(e.styles.halign=o.style.align,"inherit"===r.styles.fillColor&&(e.styles.fillColor=o.style.bcolor),"inherit"===r.styles.textColor&&(e.styles.textColor=o.style.color),"inherit"===r.styles.fontStyle&&(e.styles.fontStyle=o.style.fstyle))}}),"function"!=typeof r.createdCell&&(r.createdCell=function(t,e){var n=X.rowoptions[e.row.index+":"+e.column.dataKey];"undefined"!=typeof n&&"undefined"!=typeof n.style&&n.style.hidden!==!0&&(t.styles.halign=n.style.align,"inherit"===r.styles.fillColor&&(t.styles.fillColor=n.style.bcolor),"inherit"===r.styles.textColor&&(t.styles.textColor=n.style.color),"inherit"===r.styles.fontStyle&&(t.styles.fontStyle=n.style.fstyle))}),"function"!=typeof r.drawHeaderCell&&(r.drawHeaderCell=function(t,e){var n=X.columns[e.column.dataKey];return(1!=n.style.hasOwnProperty("hidden")||n.style.hidden!==!0)&&n.rowIndex>=0?i(t,e,n):!1}),"function"!=typeof r.drawCell&&(r.drawCell=function(t,e){var n=X.rowoptions[e.row.index+":"+e.column.dataKey];if(i(t,e,n)){if(X.doc.rect(t.x,t.y,t.width,t.height,t.styles.fillStyle),"undefined"!=typeof n&&"undefined"!=typeof n.kids&&n.kids.length>0){var o=t.height/n.rect.height;(o>X.dh||"undefined"==typeof X.dh)&&(X.dh=o),X.dw=t.width/n.rect.width,s(t,n.kids,X)}X.doc.autoTableText(t.text,t.textPos.x,t.textPos.y,{halign:t.styles.halign,valign:t.styles.valign})}return!1}),X.headerrows=[],k=t(this).find("thead").find(E.theadSelector),k.each(function(){e=0,X.headerrows[n]=[],a(this,"th,td",n,k.length,function(t,o,r){var a=m(t);a.title=p(t,o,r),a.key=e++,a.rowIndex=n,X.headerrows[n].push(a)}),n++}),n>0&&t.each(X.headerrows[n-1],function(){n>1&&null==this.rect?obj=X.headerrows[n-2][this.key]:obj=this,null!=obj&&X.columns.push(obj)});var l=0;M=t(this).find("tbody").find(E.tbodySelector),M.each(function(){var o=[];e=0,a(this,"td",n,k.length+M.length,function(n,r,a){if("undefined"==typeof X.columns[e]){var i={title:"",key:e,style:{hidden:!0}};X.columns.push(i)}if("undefined"!=typeof n&&null!=n){var i=m(n);i.kids=t(n).children(),X.rowoptions[l+":"+e++]=i}else{var i=t.extend(!0,{},X.rowoptions[l+":"+(e-1)]);i.colspan=-1,X.rowoptions[l+":"+e++]=i}o.push(p(n,r,a))}),o.length&&(X.rows.push(o),l++),n++}),"function"==typeof X.onBeforeAutotable&&X.onBeforeAutotable(t(this),X.columns,X.rows,r),X.doc.autoTable(X.columns,X.rows,r),"function"==typeof X.onAfterAutotable&&X.onAfterAutotable(t(this),r),E.jspdf.autotable.startY=X.doc.autoTableEndPosY()+r.margin.top}),l(X.doc),"undefined"!=typeof X.headerrows&&(X.headerrows.length=0),"undefined"!=typeof X.columns&&(X.columns.length=0),"undefined"!=typeof X.rows&&(X.rows.length=0),delete X.doc,X.doc=null}return this}})}(jQuery);